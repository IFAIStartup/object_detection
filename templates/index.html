<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Object Detection</title>
    <link rel="stylesheet" href="static/CSS/main.css">
    <link rel="font-family" href="https://fonts.googleapis.com/css?family=Audiowide">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="static/CSS/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@300..700&display=swap" rel="stylesheet">
    <link rel="icon" href="static/assets/logo.jpg">

</head>

<body class="bg-[#004aad]" id="body">

    <!-- Home Section -->
    <div id="blur">
        <div class="bg-cover Container mx-auto bg-[url('bgimage.png')] md:bg-center bg-no-repeat">
            <!-- Navbar  -->
            <div class="Conatianer px-4 md:px-10 ">
                <nav class="flex justify-between items-center">
                    <div class="flex items-center">
                        <img class="h-10 w-10 md:h-12 md:w-12 rounded-full md:h-16w-16" src="static/assets/logo.jpg"
                            alt="">
                        <h1 class="px-1 text-white text-sm md:text-xl md:px-3 text-center md:tracking-widest font-teko">
                            <span class="text-[#bfe3ff] font-nunito">Object Detection </span><br> <span
                                class="tracking-widest md:tracking-longest"> IF AI STARTUP </span>
                        </h1>
                    </div>
                    <ul class="hidden md:flex md:space-x-14 md:text-white font-poppins font-bold">
                        <li class="hover:text-[#bfe3ff] hover:translate-y-2 transform transition duration-700"><a
                                href="#HOME">HOME</a></li>
                        <li class="hover:text-[#bfe3ff] hover:translate-y-2 transform transition duration-700"><a
                                href="#RESULT">RESULT</a></li>
                        <li class="hover:text-[#bfe3ff] hover:translate-y-2 transform transition duration-700"><a
                                href="#CONTACT">CONTACT</a></li>
                    </ul>
                    <!-- navbar mobile view -->
                    <ul id="menu"
                        class="hidden transform transition duration-500 text-white w-full absolute right-0 top-10  text-1xl space-y-5 py-8 text-center bg-[#004bad74] md:hidden">
                        <li class="transform transition duration-200 hover:bg-white hover:text-black"><a
                                href="#HOME">HOME</a></li>
                        <li class="transform transition duration-500 hover:bg-white hover:text-black"><a
                                href="#RESULT">RESULT</a></li>
                        <li class="transform transition duration-500 hover:bg-white hover:text-black"><a
                                href="#CONTACT">CONTACT</a></li>
                    </ul>
                    <img id="hamburger" class="md:hidden text-white z-20"
                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAH1JREFUWEft1UEKwCAMBVG9eW9ecdeFONQgJDDdhkj6/Gpvyb6ebJ7mQLQjCilEAlQvlaGX/iZYX2LshBxoipfKUDAiZ+0KkdtO6KHmYH25vsf+o/r7Yky3ZcGInLV77MmtlJCvPb326YQof1fqpUJ9RYAWVUghEqC6GSKhAeG2CiXgqE5rAAAAAElFTkSuQmCC" />
                </nav>
            </div>
            <div id="HOME" class="md:flex md:items-center mt-10 ">
                <div class="flex justify-center md:w-1/2">
                    <img class="w-52 md:h-72 md:w-max md:ps-8" src="static/assets/side_image.png" alt="">
                </div>
                <div class="text-justify px-5 md:pe-16 text-[#bfe3ff] md:w-1/2 md:text-justify ">
                    <p class=" mb-5 text-lg font-poppins sm:mb-2">Object detection is a common computer vision problem
                        that deals with
                        identifying and
                        locating objects of certain classes in an image. Interpreting the object localization can be
                        done in
                        various ways, including by creating a bounding box around the object or marking every pixel in
                        the
                        image that contains the object.</p>
                </div>
            </div>
            <div class="flex justify-center">
                <div class="flex flex-col md:flex">
                    <div id="upload-message" class="text-white font-nunito text-2xl font-bold ">
                        {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                        {% for category, message in messages %}
                        {% if category == 'success'%}
                        <div class='alert alert-success mb-6 text-[#5cb85c] font-poppins font-bold' role='alert'>
                            <h6 id="msg">{{ message }}</h6>
                        </div>
                        {% endif %}
                        {% if category == 'error'%}
                        <div class='alert alert-danger text-yellow-300 mb-6' role='alert'>
                            {{ message }}
                        </div>
                        {% endif %}

                        {% endfor %}
                        {% endif %}
                        {% endwith %}
                    </div>
                    <div class="flex flex-col items-center md:flex">
                        <form method="post" enctype="multipart/form-data">
                            <label
                                class="md:mb-4 border-2 border-white border-solid hover:bg-white hover:text-black  text-white px-6 py-2 rounded-full hover:bg-transparent md:mt-2 transform transition duration-500"
                                for="uploadImage">Upload Image</label>
                            <input type="file" id="uploadImage" class="hidden" name="file"
                                accept=".jpg, .png, .jpeg, .mp4 ">
                            <div class="flex items-center justify-center mt-2">
                                <button
                                    class="mt-3 mb-3 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                                    type="submit" class="upload" value="submit">
                                    SUBMIT
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            <p class="text-[#bfe3ff] text-center font-bold md:leading-10 pb-4">Maximum combined file size :
                10MB,Supported
                types : PNG,JPG,JPEG</p>
            <p class=" text-center text-lg text-white leading-8 pb-12  md:font-extrabold md:tracking-wide"> <span
                    class="border-2 px-2 border-solid border-white rounded-full md:px-6 py-1">Other files
                    will NOT be supported.</span>
            </p>
        </div>

        <!------------------------------------ Result Section ------------------------------>

        <div id="RESULT" class="Conatiner mx-auto bg-[url('bgimage.png')] bg-cover md:bg-center bg-no-repeat pt-7">
            <h1 class="text-2xl	text-center text-white">RESULT</h1>
            <div class="md:mx-8  md:flex md:items-center md:space-x-4">
                <div class="m-2 md:py-4 md:w-1/2 w- flex justify-center border-dashed border-2 rounded-lg">
                    <img id="my-image" class="md:w-1/2" src="{{ url_for('display_img',filename=filename) }}"
                        style="height: 500px; width:500px; border-radius: 5rem;" alt="">
                </div>
                <div class="text-justify px-5 text-[#bfe3ff] md:w-2/3 ">
                    <div class="flex justify-start font-bold">
                        {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                        {% for category, message in messages %}
                        {% if category == 'success'%}
                        <h1 class="text-yellow-300">Count Of Objects</h1>
                        {% endif %}
                        {% endfor %}
                        {% endif %}
                        {% endwith %}
                    </div>
                    <div class="flex justify-start items-center py-4 ">
                        <ol class="px-4">
                            {% for value in label %}
                            <li class="font-semibold font-poppins">{{ value }}</li>
                            {% endfor %}
                        </ol>
                        <ol>
                            {% for value in count %}
                            <li class="font-semibold font-poppins">{{ value }}</li>
                            {% endfor %}
                        </ol>
                    </div>
                    <p class="font-poppins mb-10 text-lg">Detects objects in an image using the single-shot object
                        detection
                        (SSD) method.
                        Detected objects are
                        highlighted with bound rectangles and could be annotated when identified.</p>
                    <div class="flex justify-center">
                        {% with messages = get_flashed_messages(with_categories=true) %}
                        {% if messages %}
                        {% for category, message in messages %}
                        {% if category == 'success'%}
                        <button onclick="toggle()" id="preview"
                            class="mb-4 border-2 border-white border-solid hover:bg-white hover:text-black  text-white px-6 py-2 rounded-full hover:bg-transparent md:mt-2 transform transition duration-500">Preview</button>
                        {% endif %}

                        {% endfor %}
                        {% endif %}
                        {% endwith %}
                    </div>
                </div>
            </div>
        </div>

        <!-------------------------------------------------- Contact Us --------------------------------------------------------->

        <div id="CONTACT" class="bg-[url('bgimage.png')] bg-cover">
            <div class="container mx-auto py-12">
                <div class="max-w-lg mx-auto px-4">
                    <h2 class="text-3xl font-semibold text-[#bfe3ff] text-center mb-4">
                        How can we help you
                    </h2>
                    <form action="https://api.web3forms.com/submit" method="POST"
                        class="bg-[#004bad7f] rounded-lg px-6 py-8 shadow-md">
                        <div class="mb-4">
                            <input type="hidden" name="access_key" value="e2ba2b98-e326-49b5-8950-8459f98a3bc7">
                            <label class="block text-white font-bold mb-2" for="name">Name</label>
                            <input
                                class="appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                id="name" type="text" name="name" placeholder="Enter your name" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-white font-bold mb-2" for="email">Email</label>
                            <input
                                class="appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                id="email" type="email" name="email" placeholder="Enter your email" required>
                        </div>
                        <div class="mb-4">
                            <label class="block text-white font-bold mb-2" for="message">Message</label>
                            <textarea
                                class="appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                                id="message" rows="6" name="message" placeholder="Enter your message"
                                required></textarea>
                        </div>
                        <div class="flex justify-end">
                            <button id="contact-submit"
                                class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline"
                                type="submit">
                                Send
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <!------------------------------------------------------------------ Preview Image  ---------------------------------------------------->
    <div for="preview" id="popup" class="hidden fixed left-0 top-1/2 w-full h-full z-10 ">
        <div class="flex justify-center items-center">
            <img id="my-image" src="{{ url_for('display_img',filename=filename) }} "
                class="absolute px-5 md:px-0 md:w-1/2 left-0 top-0 md:translate-x-2/4 -translate-y-2/4 object-cover "
                alt="">
        </div>
    </div>


    <script>
        const hamburger = document.querySelector("#hamburger")
        const menu = document.querySelector("#menu")
        const popup = document.querySelector("#popup")
        const preview = document.querySelector("#preview")
        const cancel = document.querySelector("#cancel")
        const blur = document.querySelector("#blur")
        const removemsg = document.querySelector("#msg")

        setTimeout(function () {
            removemsg.remove();
        }, 4000);

        function toggle() {
            blur.classList.toggle("active")
        }
        hamburger.addEventListener("click", () => {
            menu.classList.toggle("hidden")
        })

        menu.addEventListener("click", () => {
            menu.classList.toggle("hidden")
        })

        preview.addEventListener("click", () => {
            popup.classList.toggle("hidden")
        })

        popup.addEventListener("click", () => {
            popup.classList.toggle("hidden")
        })

        popup.addEventListener("click", () => {
            blur.classList.toggle("active")
        })

        if (window.history.replaceState) {
            window.history.replaceState(null, null, window.location.href);
        }
    </script>
</body>

</html>